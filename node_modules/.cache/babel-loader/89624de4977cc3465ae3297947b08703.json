{"ast":null,"code":"var _jsxFileName = \"/home/thomas/Bureau/checkpoint-2-react-bordeaux-mars20/list-games/src/components/GameList/GameList.js\";\nimport React, { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport Game from '../Game/Game';\n\nconst GameList = () => {\n  const [games, setGames] = useState([]);\n  const [sortedGames, setSortedGames] = useState(false);\n  useEffect(() => {\n    Axios.get('https://wild-games.herokuapp.com/api/v1').then(response => response.data).then(data => setGames(data));\n  }, []);\n\n  const deleteHandler = name => {\n    const filteredArray = games.filter(element => element.name !== name);\n    setGames(filteredArray);\n  };\n\n  const sortHandler = () => {\n    if (sortedGames) {\n      Axios.get('https://wild-games.herokuapp.com/api/v1').then(response => response.data).then(data => setGames(data));\n      setSortedGames(false);\n    } else {\n      const sortedArray = games.filter(element => element.rating >= 4.5);\n      setGames(sortedArray);\n      setSortedGames(true);\n    }\n\n    console.log(games);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    style: {\n      margin: '0 auto',\n      width: '25%',\n      display: 'block'\n    },\n    onClick: sortHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, sortedGames ? 'All games' : 'Best games'), games.map((element, index) => {\n    return /*#__PURE__*/React.createElement(Game, {\n      key: index,\n      name: element.name,\n      image: element.background_image,\n      deleteHandler: deleteHandler,\n      rating: element.rating,\n      genres: element.genres.map(element => element.name),\n      id: element.id,\n      screenshots: element.short_screenshots,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 20\n      }\n    });\n  }));\n};\n\nexport default GameList;","map":{"version":3,"sources":["/home/thomas/Bureau/checkpoint-2-react-bordeaux-mars20/list-games/src/components/GameList/GameList.js"],"names":["React","useState","useEffect","Axios","Game","GameList","games","setGames","sortedGames","setSortedGames","get","then","response","data","deleteHandler","name","filteredArray","filter","element","sortHandler","sortedArray","rating","console","log","margin","width","display","map","index","background_image","genres","id","short_screenshots"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,cAAjB;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AAEnB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACO,WAAD,EAAcC,cAAd,IAAgCR,QAAQ,CAAC,KAAD,CAA9C;AAEAC,EAAAA,SAAS,CAAC,MAAK;AACXC,IAAAA,KAAK,CAACO,GAAN,CAAU,yCAAV,EACCC,IADD,CACMC,QAAQ,IAAIA,QAAQ,CAACC,IAD3B,EAECF,IAFD,CAEME,IAAI,IAAGN,QAAQ,CAACM,IAAD,CAFrB;AAGH,GAJQ,EAIN,EAJM,CAAT;;AAMA,QAAMC,aAAa,GAAIC,IAAD,IAAU;AAC5B,UAAMC,aAAa,GAAGV,KAAK,CAACW,MAAN,CAAaC,OAAO,IAAIA,OAAO,CAACH,IAAR,KAAiBA,IAAzC,CAAtB;AACAR,IAAAA,QAAQ,CAACS,aAAD,CAAR;AACH,GAHD;;AAKA,QAAMG,WAAW,GAAG,MAAM;AAEtB,QAAGX,WAAH,EAAgB;AACZL,MAAAA,KAAK,CAACO,GAAN,CAAU,yCAAV,EACCC,IADD,CACMC,QAAQ,IAAIA,QAAQ,CAACC,IAD3B,EAECF,IAFD,CAEME,IAAI,IAAGN,QAAQ,CAACM,IAAD,CAFrB;AAGAJ,MAAAA,cAAc,CAAC,KAAD,CAAd;AACH,KALD,MAKM;AACF,YAAMW,WAAW,GAAGd,KAAK,CAACW,MAAN,CAAaC,OAAO,IAAIA,OAAO,CAACG,MAAR,IAAkB,GAA1C,CAApB;AACAd,MAAAA,QAAQ,CAACa,WAAD,CAAR;AACAX,MAAAA,cAAc,CAAC,IAAD,CAAd;AACH;;AAEDa,IAAAA,OAAO,CAACC,GAAR,CAAYjB,KAAZ;AACH,GAdD;;AAgBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAQ,IAAA,KAAK,EAAE;AAACkB,MAAAA,MAAM,EAAE,QAAT;AAAmBC,MAAAA,KAAK,EAAE,KAA1B;AAAiCC,MAAAA,OAAO,EAAE;AAA1C,KAAf;AAAmE,IAAA,OAAO,EAAEP,WAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0FX,WAAW,GAAG,WAAH,GAAiB,YAAtH,CADA,EAEKF,KAAK,CAACqB,GAAN,CAAU,CAACT,OAAD,EAAUU,KAAV,KAAoB;AAC/B,wBAAO,oBAAC,IAAD;AACC,MAAA,GAAG,EAAEA,KADN;AAEC,MAAA,IAAI,EAAEV,OAAO,CAACH,IAFf;AAGC,MAAA,KAAK,EAAGG,OAAO,CAACW,gBAHjB;AAIC,MAAA,aAAa,EAAEf,aAJhB;AAKC,MAAA,MAAM,EAAEI,OAAO,CAACG,MALjB;AAMC,MAAA,MAAM,EAAEH,OAAO,CAACY,MAAR,CAAeH,GAAf,CAAmBT,OAAO,IAAIA,OAAO,CAACH,IAAtC,CANT;AAOC,MAAA,EAAE,EAAEG,OAAO,CAACa,EAPb;AAQC,MAAA,WAAW,EAAEb,OAAO,CAACc,iBARtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAUC,GAXA,CAFL,CADJ;AAiBH,CAjDD;;AAmDA,eAAe3B,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport Game from '../Game/Game';\n\nconst GameList = () => {\n\n    const [games, setGames] = useState([]);\n    const [sortedGames, setSortedGames] = useState(false)\n\n    useEffect(()=> {\n        Axios.get('https://wild-games.herokuapp.com/api/v1')\n        .then(response => response.data)\n        .then(data=> setGames(data))\n    }, [])\n\n    const deleteHandler = (name) => {\n        const filteredArray = games.filter(element => element.name !== name)\n        setGames(filteredArray)\n    }\n\n    const sortHandler = () => {\n\n        if(sortedGames) {\n            Axios.get('https://wild-games.herokuapp.com/api/v1')\n            .then(response => response.data)\n            .then(data=> setGames(data))\n            setSortedGames(false)\n        }else {\n            const sortedArray = games.filter(element => element.rating >= 4.5)\n            setGames(sortedArray)\n            setSortedGames(true)\n        }\n        \n        console.log(games)\n    }\n\n    return (\n        <div >\n        <button style={{margin: '0 auto', width: '25%', display: 'block'}} onClick={sortHandler}>{sortedGames ? 'All games' : 'Best games'}</button>\n            {games.map((element, index) => {\n            return <Game \n                    key={index}\n                    name={element.name}\n                    image ={element.background_image}\n                    deleteHandler={deleteHandler}\n                    rating={element.rating}\n                    genres={element.genres.map(element => element.name)}\n                    id={element.id}\n                    screenshots={element.short_screenshots}\n                    />\n            })}\n        </div>\n    )\n}\n\nexport default GameList;"]},"metadata":{},"sourceType":"module"}